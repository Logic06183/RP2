<?xml version="1.0" encoding="UTF-8"?>
<svg width="1920" height="1080" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <!-- Define gradients and filters -->
  <defs>
    <!-- Gradient definitions for different component types -->
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3571B8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="processGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#5CB85C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#449D44;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="mlGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F0AD4E;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EC971F;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#D9534F;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C9302C;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="dropShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666666"/>
    </marker>
    
    <!-- Cylinder path for databases -->
    <symbol id="cylinder" viewBox="0 0 100 120">
      <ellipse cx="50" cy="15" rx="45" ry="12" fill="url(#dataGradient)" opacity="0.9"/>
      <rect x="5" y="15" width="90" height="90" fill="url(#dataGradient)" opacity="0.9"/>
      <ellipse cx="50" cy="105" rx="45" ry="12" fill="url(#dataGradient)"/>
      <path d="M5,15 Q5,27 50,27 Q95,27 95,15" fill="none" stroke="#3571B8" stroke-width="0.5" opacity="0.5"/>
    </symbol>
  </defs>
  
  <!-- Background -->
  <rect width="1920" height="1080" fill="#F8F9FA"/>
  
  <!-- Title and Subtitle -->
  <text x="960" y="50" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="#1B5E5E">
    ENBEL Conference: XAI-Driven Climate-Health Analysis Framework
  </text>
  <text x="960" y="80" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" fill="#2E8B8B">
    Machine Learning Insights for African Urban Health - Johannesburg Case Study
  </text>
  
  <!-- Main container with subtle border -->
  <rect x="80" y="100" width="1760" height="930" fill="none" stroke="#E0E0E0" stroke-width="1" rx="5"/>
  
  <!-- SECTION 1: DATA SOURCES -->
  <g id="data-sources">
    <!-- Section header -->
    <rect x="100" y="130" width="380" height="40" fill="#2C3E50" rx="3"/>
    <text x="290" y="155" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      DATA SOURCES
    </text>
    <text x="290" y="185" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">
      Input Layer
    </text>
    
    <!-- Clinical Health Data -->
    <g transform="translate(100, 210)">
      <use href="#cylinder" width="80" height="100"/>
      <text x="40" y="60" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
        Clinical
      </text>
      <text x="40" y="75" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Health Data
      </text>
      <rect x="90" y="10" width="160" height="90" fill="white" stroke="#4A90E2" stroke-width="1" rx="3" filter="url(#dropShadow)"/>
      <text x="95" y="25" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2C3E50">
        9,103 individuals | 17 studies
      </text>
      <text x="95" y="40" font-family="Arial, sans-serif" font-size="9" fill="#666">• CD4 count, Hemoglobin</text>
      <text x="95" y="52" font-family="Arial, sans-serif" font-size="9" fill="#666">• Creatinine, Blood pressure</text>
      <text x="95" y="64" font-family="Arial, sans-serif" font-size="9" fill="#666">• HIV viral load</text>
      <text x="95" y="76" font-family="Arial, sans-serif" font-size="9" fill="#666">• Demographics (age, sex, race)</text>
    </g>
    
    <!-- GCRO Survey Data -->
    <g transform="translate(100, 350)">
      <use href="#cylinder" width="80" height="100"/>
      <text x="40" y="60" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
        GCRO
      </text>
      <text x="40" y="75" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Survey Data
      </text>
      <rect x="90" y="10" width="160" height="90" fill="white" stroke="#4A90E2" stroke-width="1" rx="3" filter="url(#dropShadow)"/>
      <text x="95" y="25" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2C3E50">
        9,103 matched records
      </text>
      <text x="95" y="40" font-family="Arial, sans-serif" font-size="9" fill="#666">• Socioeconomic indicators</text>
      <text x="95" y="52" font-family="Arial, sans-serif" font-size="9" fill="#666">• Housing quality metrics</text>
      <text x="95" y="64" font-family="Arial, sans-serif" font-size="9" fill="#666">• Healthcare access measures</text>
      <text x="95" y="76" font-family="Arial, sans-serif" font-size="9" fill="#666">• Matched to clinical cohort</text>
    </g>
    
    <!-- Climate Data Sources -->
    <g transform="translate(100, 490)">
      <use href="#cylinder" width="80" height="100"/>
      <text x="40" y="60" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
        Climate Data
      </text>
      <text x="40" y="75" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Sources
      </text>
      <rect x="90" y="10" width="160" height="90" fill="white" stroke="#4A90E2" stroke-width="1" rx="3" filter="url(#dropShadow)"/>
      <text x="95" y="25" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2C3E50">
        78 climate features
      </text>
      <text x="95" y="40" font-family="Arial, sans-serif" font-size="9" fill="#666">• ERA5 Reanalysis (temp)</text>
      <text x="95" y="52" font-family="Arial, sans-serif" font-size="9" fill="#666">• MODIS Satellite (validation)</text>
      <text x="95" y="64" font-family="Arial, sans-serif" font-size="9" fill="#666">• SAAQIS Ground Stations</text>
      <text x="95" y="76" font-family="Arial, sans-serif" font-size="9" fill="#666">• Multi-temporal aggregations</text>
    </g>
  </g>
  
  <!-- SECTION 2: PROCESSING PIPELINE -->
  <g id="processing-pipeline">
    <!-- Section header -->
    <rect x="520" y="130" width="880" height="40" fill="#2C3E50" rx="3"/>
    <text x="960" y="155" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      PROCESSING PIPELINE
    </text>
    
    <!-- Stage 1: Data Integration -->
    <g transform="translate(520, 190)">
      <rect width="400" height="120" fill="url(#processGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="150" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
        Stage 1: Data Integration &amp; Validation
      </text>
      <text x="150" y="42" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Master dataset: 128,465 records
      </text>
      <text x="10" y="58" font-family="Arial, sans-serif" font-size="10" fill="white">• Data type harmonization</text>
      <text x="10" y="72" font-family="Arial, sans-serif" font-size="10" fill="white">• Temporal alignment</text>
      <text x="150" y="58" font-family="Arial, sans-serif" font-size="10" fill="white">• Geographic matching</text>
      <text x="150" y="72" font-family="Arial, sans-serif" font-size="10" fill="white">• Quality control (95.7%)</text>
    </g>
    
    <!-- Stage 2: Feature Engineering -->
    <g transform="translate(960, 190)">
      <rect width="400" height="120" fill="url(#processGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="150" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
        Stage 2: Feature Engineering
      </text>
      <text x="10" y="42" font-family="Arial, sans-serif" font-size="10" fill="white">• Climate: 1, 7, 30-day means</text>
      <text x="10" y="56" font-family="Arial, sans-serif" font-size="10" fill="white">• Temperature extremes (90th, 95th %)</text>
      <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="white">• Biomarker pathway classification</text>
      <text x="10" y="84" font-family="Arial, sans-serif" font-size="10" fill="white">• Standardization &amp; scaling</text>
    </g>
    
    <!-- Biomarker Pathways Box -->
    <g transform="translate(1120, 320)">
      <rect width="220" height="80" fill="white" stroke="#5CB85C" stroke-width="1" rx="3" stroke-dasharray="3,2"/>
      <text x="90" y="15" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#2C3E50">
        Pathway Classification
      </text>
      <text x="10" y="30" font-family="Arial, sans-serif" font-size="9" fill="#666">• Cardiovascular pathway</text>
      <text x="10" y="42" font-family="Arial, sans-serif" font-size="9" fill="#666">• Metabolic pathway</text>
      <text x="10" y="54" font-family="Arial, sans-serif" font-size="9" fill="#666">• Immune pathway</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="9" fill="#666">• Renal pathway</text>
    </g>
    
    <!-- Stage 3: XAI-Driven Discovery Process -->
    <text x="960" y="450" font-family="Arial, sans-serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      Stage 3: XAI-Driven Discovery Process
    </text>
    
    <!-- Phase A: Comprehensive XAI Analysis -->
    <g transform="translate(520, 480)">
      <rect width="380" height="140" fill="url(#mlGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Phase A: Comprehensive XAI Analysis
      </text>
      <text x="140" y="35" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        SHAP + Feature Discovery
      </text>
      <text x="10" y="52" font-family="Arial, sans-serif" font-size="10" fill="white">• Multi-pathway feature importance</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="10" fill="white">• Interaction effect detection</text>
      <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="white">• Novel pattern identification</text>
      <text x="10" y="94" font-family="Arial, sans-serif" font-size="10" fill="white">• Unexpected relationship discovery</text>
      <text x="10" y="108" font-family="Arial, sans-serif" font-size="10" fill="white">• Hypothesis generation framework</text>
    </g>
    
    <!-- Phase B: Hypothesis Generation -->
    <g transform="translate(960, 480)">
      <rect width="380" height="140" fill="url(#processGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Phase B: Hypothesis Generation
      </text>
      <text x="140" y="35" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Convert XAI insights to testable hypotheses
      </text>
      <text x="10" y="52" font-family="Arial, sans-serif" font-size="10" fill="white">• Pathway-specific mechanistic hypotheses</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="10" fill="white">• Vulnerability interaction hypotheses</text>
      <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="white">• Temporal relationship hypotheses</text>
      <text x="10" y="94" font-family="Arial, sans-serif" font-size="10" fill="white">• African-specific context hypotheses</text>
      <text x="10" y="108" font-family="Arial, sans-serif" font-size="10" fill="white">• Novel climate-health connections</text>
    </g>
    
    <!-- Stage 4: DLNM Validation -->
    <g transform="translate(740, 640)">
      <rect width="400" height="120" fill="url(#mlGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="150" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
        Stage 4: DLNM Validation
      </text>
      <text x="10" y="42" font-family="Arial, sans-serif" font-size="10" fill="white">• Test XAI-derived hypotheses</text>
      <text x="10" y="56" font-family="Arial, sans-serif" font-size="10" fill="white">• Confirm non-linear relationships</text>
      <text x="10" y="70" font-family="Arial, sans-serif" font-size="10" fill="white">• Validate lag structures</text>
      <text x="150" y="42" font-family="Arial, sans-serif" font-size="10" fill="white">• Quantify effect sizes</text>
      <text x="150" y="56" font-family="Arial, sans-serif" font-size="10" fill="white">• African urban context validation</text>
      <text x="150" y="70" font-family="Arial, sans-serif" font-size="10" fill="white">• Uncertainty quantification</text>
    </g>
  </g>
  
  <!-- SECTION 3: OUTPUTS -->
  <g id="outputs">
    <!-- Section header -->
    <rect x="1450" y="130" width="380" height="40" fill="#2C3E50" rx="3"/>
    <text x="1640" y="155" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
      OUTPUTS
    </text>
    <text x="1640" y="185" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">
      Results Layer
    </text>
    
    <!-- Model Performance Assessment -->
    <g transform="translate(1450, 210)">
      <rect width="360" height="100" fill="url(#outputGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Model Performance Assessment
      </text>
      <text x="10" y="38" font-family="Arial, sans-serif" font-size="10" fill="white">• Cross-validation framework</text>
      <text x="10" y="52" font-family="Arial, sans-serif" font-size="10" fill="white">• Temporal validation</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="10" fill="white">• Pathway-specific evaluation</text>
      <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="white">• Uncertainty quantification</text>
    </g>
    
    <!-- Policy-Relevant Findings -->
    <g transform="translate(1450, 340)">
      <rect width="360" height="130" fill="url(#outputGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Policy-Relevant Findings
      </text>
      <text x="10" y="38" font-family="Arial, sans-serif" font-size="10" fill="white">• XAI-discovered climate-health pathways</text>
      <text x="10" y="52" font-family="Arial, sans-serif" font-size="10" fill="white">• DLNM-validated effect sizes</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="10" fill="white">• African urban vulnerability patterns</text>
      <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="white">• Temporal matching insights</text>
      <text x="10" y="94" font-family="Arial, sans-serif" font-size="10" fill="white">• Environmental burden implications</text>
    </g>
    
    <!-- Deliverables -->
    <g transform="translate(1450, 500)">
      <rect width="360" height="120" fill="url(#outputGradient)" rx="5" filter="url(#dropShadow)"/>
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Deliverables
      </text>
      <text x="10" y="38" font-family="Arial, sans-serif" font-size="10" fill="white">• Publication manuscript</text>
      <text x="10" y="52" font-family="Arial, sans-serif" font-size="10" fill="white">• Supplementary materials</text>
      <text x="10" y="66" font-family="Arial, sans-serif" font-size="10" fill="white">• Interactive visualizations</text>
      <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="white">• Policy recommendations</text>
    </g>
  </g>
  
  <!-- FLOW ARROWS -->
  <g id="flow-arrows" stroke="#666666" stroke-width="2" fill="none">
    <!-- From data sources to Stage 1 -->
    <path d="M 480 270 L 520 250" marker-end="url(#arrow)"/>
    <path d="M 480 400 L 520 250" marker-end="url(#arrow)"/>
    <path d="M 480 540 L 520 250" marker-end="url(#arrow)"/>
    
    <!-- From Stage 1 to Stage 2 -->
    <path d="M 925 250 L 955 250" marker-end="url(#arrow)"/>
    
    <!-- From Stage 2 to Phase A and Phase B -->
    <path d="M 1160 315 L 680 475" marker-end="url(#arrow)"/>
    <path d="M 860 540 L 955 540" marker-end="url(#arrow)"/>
    
    <!-- From Phase B to Stage 4 -->
    <path d="M 1160 625 L 940 665" marker-end="url(#arrow)"/>
    
    <!-- From Stage 4 to Outputs -->
    <path d="M 1145 700 L 1445 270" marker-end="url(#arrow)"/>
    <path d="M 1145 700 L 1445 400" marker-end="url(#arrow)"/>
    <path d="M 1145 700 L 1445 560" marker-end="url(#arrow)"/>
  </g>
  
  <!-- KEY STATISTICS ANNOTATIONS -->
  <g id="annotations">
    <!-- Top statistics bar -->
    <rect x="520" y="780" width="880" height="70" fill="#F5F5F5" stroke="#DDDDDD" stroke-width="1" rx="5"/>
    <text x="960" y="810" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      Key Project Statistics
    </text>
    <text x="580" y="835" font-family="Arial, sans-serif" font-size="12" fill="#666">
      Total records: 128,465
    </text>
    <text x="780" y="835" font-family="Arial, sans-serif" font-size="12" fill="#666">
      Study period: 19 years (2002-2021)
    </text>
    <text x="980" y="835" font-family="Arial, sans-serif" font-size="12" fill="#666">
      Machine learning models: 6
    </text>
    <text x="1180" y="835" font-family="Arial, sans-serif" font-size="12" fill="#666">
      Climate features: 78 variables
    </text>
    
    <!-- Decision diamond for quality control -->
    <g transform="translate(730, 350)">
      <path d="M 0,20 L 20,0 L 40,20 L 20,40 Z" fill="#FFE4B5" stroke="#FF8C00" stroke-width="1"/>
      <text x="20" y="24" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#8B4513">
        QC
      </text>
      <text x="20" y="55" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">
        95.7% completeness
      </text>
    </g>
  </g>
  
  <!-- LEGEND -->
  <g id="legend" transform="translate(100, 880)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2C3E50">
      Component Types:
    </text>
    <rect x="120" y="5" width="15" height="15" fill="url(#dataGradient)"/>
    <text x="140" y="16" font-family="Arial, sans-serif" font-size="10" fill="#666">Data Sources</text>
    
    <rect x="230" y="5" width="15" height="15" fill="url(#processGradient)"/>
    <text x="250" y="16" font-family="Arial, sans-serif" font-size="10" fill="#666">Processing</text>
    
    <rect x="330" y="5" width="15" height="15" fill="url(#mlGradient)"/>
    <text x="350" y="16" font-family="Arial, sans-serif" font-size="10" fill="#666">ML/AI Analysis</text>
    
    <rect x="450" y="5" width="15" height="15" fill="url(#outputGradient)"/>
    <text x="470" y="16" font-family="Arial, sans-serif" font-size="10" fill="#666">Results/Outputs</text>
    
    <path d="M 570,13 L 590,13" stroke="#666666" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="595" y="16" font-family="Arial, sans-serif" font-size="10" fill="#666">Data Flow</text>
  </g>
  
  <!-- ENBEL Conference Note -->
  <rect x="100" y="980" width="1000" height="50" fill="#E8F4F8" stroke="#1B5E5E" stroke-width="1" rx="5"/>
  <text x="120" y="1005" font-family="Arial, sans-serif" font-size="12" fill="#1B5E5E" font-weight="bold">
    Temporal Matching Note:
  </text>
  <text x="260" y="1005" font-family="Arial, sans-serif" font-size="12" fill="#666">
    Clinical and GCRO survey data aligned temporally to enable comprehensive XAI analysis
  </text>
  <text x="120" y="1022" font-family="Arial, sans-serif" font-size="12" fill="#1B5E5E" font-weight="bold">
    ENBEL Context:
  </text>
  <text x="240" y="1022" font-family="Arial, sans-serif" font-size="12" fill="#666">
    Environmental Burden of Disease framework for African urban health research
  </text>
  
  <!-- QR Code placeholder -->
  <rect x="1720" y="980" width="100" height="100" fill="white" stroke="#1B5E5E" stroke-width="2" rx="5"/>
  <text x="1770" y="1010" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
    QR Code:
  </text>
  <text x="1770" y="1030" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">
    Full Methodology
  </text>
  <text x="1770" y="1045" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">
    Details
  </text>
  
  <!-- Conference Attribution -->
  <text x="1840" y="1070" font-family="Arial, sans-serif" font-size="10" text-anchor="end" fill="#999">
    ENBEL Conference 2025 | XAI-Driven Climate-Health Analysis | Johannesburg Case Study
  </text>
</svg>