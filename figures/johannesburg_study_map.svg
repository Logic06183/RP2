<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" 
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="1200" height="900" 
     viewBox="0 0 1200 900">
  
  <!-- Document Title and Metadata -->
  <title>ENBEL Conference: Johannesburg Climate-Health Study Area</title>
  <desc>Multi-source data integration across Greater Johannesburg Metropolitan Area (2002-2021)</desc>
  
  <!-- Definitions for gradients, patterns, and symbols -->
  <defs>
    <!-- Heat Island Gradient -->
    <linearGradient id="heatIslandGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2E86AB;stop-opacity:0.3"/>
      <stop offset="30%" style="stop-color:#A23B72;stop-opacity:0.4"/>
      <stop offset="70%" style="stop-color:#F18F01;stop-opacity:0.5"/>
      <stop offset="100%" style="stop-color:#C73E1D;stop-opacity:0.6"/>
    </linearGradient>
    
    <!-- Population Density Gradient -->
    <linearGradient id="populationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#E8F5E8;stop-opacity:0.2"/>
      <stop offset="50%" style="stop-color:#81C784;stop-opacity:0.3"/>
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:0.4"/>
    </linearGradient>
    
    <!-- Clinical Site Symbol -->
    <symbol id="clinicalSite" viewBox="0 0 20 20">
      <circle cx="10" cy="10" r="8" fill="#2E86AB" stroke="#ffffff" stroke-width="2"/>
      <path d="M6 10 L14 10 M10 6 L10 14" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
    </symbol>
    
    <!-- GCRO Survey Site Symbol -->
    <symbol id="gcroSite" viewBox="0 0 20 20">
      <rect x="2" y="2" width="16" height="16" fill="#A23B72" stroke="#ffffff" stroke-width="2" rx="2"/>
      <circle cx="10" cy="10" r="3" fill="#ffffff"/>
    </symbol>
    
    <!-- Climate Station Symbol -->
    <symbol id="climateStation" viewBox="0 0 20 20">
      <polygon points="10,2 18,10 10,18 2,10" fill="#F18F01" stroke="#ffffff" stroke-width="2"/>
      <circle cx="10" cy="10" r="2" fill="#ffffff"/>
    </symbol>
    
    <!-- North Arrow -->
    <symbol id="northArrow" viewBox="0 0 40 60">
      <polygon points="20,5 30,25 20,20 10,25" fill="#2E86AB"/>
      <polygon points="20,20 30,25 20,55 10,25" fill="#ffffff" stroke="#2E86AB" stroke-width="1"/>
      <text x="20" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#2E86AB">N</text>
    </symbol>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="900" fill="#F8F9FA"/>
  
  <!-- Title Block -->
  <g id="titleBlock">
    <rect x="20" y="20" width="760" height="80" fill="#2E86AB" rx="5"/>
    <text x="400" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#ffffff">
      ENBEL Conference: Johannesburg Climate-Health Study Area
    </text>
    <text x="400" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#E3F2FD">
      Multi-source data integration across metropolitan region (2002-2021)
    </text>
    <text x="400" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#E3F2FD">
      Sample: 9,103 clinical records + matched GCRO socioeconomic data
    </text>
  </g>
  
  <!-- Main Map Area -->
  <g id="mainMap" transform="translate(50, 120)">
    
    <!-- Geographic Base Layer -->
    <rect width="700" height="550" fill="#F5F5F5" stroke="#CCCCCC" stroke-width="1" rx="3"/>
    
    <!-- Population Density Background -->
    <g id="populationDensity">
      <!-- Soweto - High Density -->
      <ellipse cx="200" cy="400" rx="80" ry="60" fill="url(#populationGradient)" opacity="0.6"/>
      <!-- Alexandra - High Density -->
      <ellipse cx="380" cy="200" rx="40" ry="30" fill="url(#populationGradient)" opacity="0.6"/>
      <!-- Orange Farm - High Density -->
      <ellipse cx="250" cy="480" rx="60" ry="40" fill="url(#populationGradient)" opacity="0.6"/>
      <!-- Sandton - Low Density -->
      <ellipse cx="420" cy="160" rx="70" ry="50" fill="url(#populationGradient)" opacity="0.2"/>
    </g>
    
    <!-- Heat Island Zones -->
    <g id="heatIslandZones">
      <!-- CBD Heat Island -->
      <circle cx="350" cy="280" r="60" fill="url(#heatIslandGradient)" opacity="0.7"/>
      <!-- Sandton Heat Island -->
      <circle cx="420" cy="160" r="45" fill="url(#heatIslandGradient)" opacity="0.6"/>
      <!-- Industrial Areas -->
      <ellipse cx="280" cy="350" rx="40" ry="25" fill="url(#heatIslandGradient)" opacity="0.5"/>
      <ellipse cx="480" cy="320" rx="35" ry="20" fill="url(#heatIslandGradient)" opacity="0.5"/>
    </g>
    
    <!-- Major Roads and Highways -->
    <g id="majorRoads" stroke="#666666" stroke-width="3" fill="none">
      <!-- M1 Highway -->
      <path d="M350 50 L350 150 L370 280 L350 400 L340 550" stroke="#444444" stroke-width="4"/>
      <!-- M2 Highway -->
      <path d="M50 280 L200 285 L350 280 L500 275 L650 270" stroke="#444444" stroke-width="4"/>
      <!-- N1 Highway -->
      <path d="M300 50 L320 150 L340 250 L380 350 L420 450 L450 550" stroke="#444444" stroke-width="4"/>
      <!-- N3 Highway -->
      <path d="M350 280 L420 320 L500 380 L580 450 L650 520" stroke="#444444" stroke-width="4"/>
      <!-- R21 Highway -->
      <path d="M500 50 L480 150 L460 250 L440 350 L420 450" stroke="#444444" stroke-width="3"/>
    </g>
    
    <!-- Secondary Roads -->
    <g id="secondaryRoads" stroke="#999999" stroke-width="1.5" fill="none" opacity="0.7">
      <!-- Grid pattern for secondary roads -->
      <line x1="100" y1="100" x2="600" y2="100"/>
      <line x1="100" y1="150" x2="600" y2="150"/>
      <line x1="100" y1="200" x2="600" y2="200"/>
      <line x1="100" y1="250" x2="600" y2="250"/>
      <line x1="100" y1="300" x2="600" y2="300"/>
      <line x1="100" y1="350" x2="600" y2="350"/>
      <line x1="100" y1="400" x2="600" y2="400"/>
      <line x1="100" y1="450" x2="600" y2="450"/>
      <line x1="100" y1="500" x2="600" y2="500"/>
      
      <line x1="100" y1="50" x2="100" y2="550"/>
      <line x1="200" y1="50" x2="200" y2="550"/>
      <line x1="300" y1="50" x2="300" y2="550"/>
      <line x1="400" y1="50" x2="400" y2="550"/>
      <line x1="500" y1="50" x2="500" y2="550"/>
      <line x1="600" y1="50" x2="600" y2="550"/>
    </g>
    
    <!-- District Labels -->
    <g id="districtLabels" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
      <text x="350" y="290" text-anchor="middle" fill="#2E86AB">CBD</text>
      <text x="420" y="170" text-anchor="middle" fill="#2E86AB">Sandton</text>
      <text x="200" y="410" text-anchor="middle" fill="#2E86AB">Soweto</text>
      <text x="380" y="210" text-anchor="middle" fill="#2E86AB">Alexandra</text>
      <text x="150" y="170" text-anchor="middle" fill="#2E86AB">Randburg</text>
      <text x="500" y="400" text-anchor="middle" fill="#2E86AB">Benoni</text>
      <text x="120" y="350" text-anchor="middle" fill="#2E86AB">Roodepoort</text>
      <text x="250" y="490" text-anchor="middle" fill="#2E86AB">Orange Farm</text>
    </g>
    
    <!-- Clinical Study Sites -->
    <g id="clinicalSites">
      <!-- Chris Hani Baragwanath Hospital (Soweto) -->
      <use href="#clinicalSite" x="190" y="390" width="20" height="20"/>
      <text x="220" y="405" font-family="Arial, sans-serif" font-size="10" fill="#2E86AB">Chris Hani Baragwanath</text>
      
      <!-- Charlotte Maxeke Hospital (CBD) -->
      <use href="#clinicalSite" x="340" y="270" width="20" height="20"/>
      <text x="370" y="285" font-family="Arial, sans-serif" font-size="10" fill="#2E86AB">Charlotte Maxeke</text>
      
      <!-- Helen Joseph Hospital (Auckland Park) -->
      <use href="#clinicalSite" x="300" y="300" width="20" height="20"/>
      <text x="330" y="315" font-family="Arial, sans-serif" font-size="10" fill="#2E86AB">Helen Joseph</text>
      
      <!-- Rahima Moosa Hospital (Coronationville) -->
      <use href="#clinicalSite" x="280" y="320" width="20" height="20"/>
      <text x="310" y="335" font-family="Arial, sans-serif" font-size="10" fill="#2E86AB">Rahima Moosa</text>
    </g>
    
    <!-- GCRO Survey Areas -->
    <g id="gcroSites">
      <!-- High-density areas -->
      <use href="#gcroSite" x="180" y="380" width="20" height="20"/>
      <use href="#gcroSite" x="220" y="420" width="20" height="20"/>
      <use href="#gcroSite" x="370" y="190" width="20" height="20"/>
      <use href="#gcroSite" x="240" y="470" width="20" height="20"/>
      
      <!-- Medium-density areas -->
      <use href="#gcroSite" x="110" y="340" width="20" height="20"/>
      <use href="#gcroSite" x="140" y="160" width="20" height="20"/>
      <use href="#gcroSite" x="490" y="390" width="20" height="20"/>
      
      <!-- Low-density areas -->
      <use href="#gcroSite" x="410" y="150" width="20" height="20"/>
      <use href="#gcroSite" x="450" y="180" width="20" height="20"/>
      <use href="#gcroSite" x="380" y="120" width="20" height="20"/>
    </g>
    
    <!-- Climate Monitoring Stations -->
    <g id="climateStations">
      <!-- ERA5 Grid Points -->
      <use href="#climateStation" x="250" y="150" width="20" height="20"/>
      <use href="#climateStation" x="450" y="250" width="20" height="20"/>
      <use href="#climateStation" x="300" y="350" width="20" height="20"/>
      <use href="#climateStation" x="500" y="180" width="20" height="20"/>
      <use href="#climateStation" x="180" y="280" width="20" height="20"/>
      
      <!-- Weather Stations -->
      <use href="#climateStation" x="350" y="100" width="20" height="20"/>
      <use href="#climateStation" x="550" y="300" width="20" height="20"/>
    </g>
    
    <!-- Major Landmarks -->
    <g id="landmarks">
      <!-- OR Tambo Airport -->
      <rect x="520" y="350" width="30" height="20" fill="#666666" rx="2"/>
      <text x="555" y="365" font-family="Arial, sans-serif" font-size="10" fill="#666666">OR Tambo</text>
      
      <!-- University of the Witwatersrand -->
      <rect x="320" y="250" width="15" height="15" fill="#A23B72" rx="2"/>
      <text x="340" y="260" font-family="Arial, sans-serif" font-size="9" fill="#A23B72">Wits</text>
      
      <!-- Mine dumps (geographical features) -->
      <circle cx="280" cy="380" r="8" fill="#8D6E63" opacity="0.6"/>
      <circle cx="400" cy="420" r="6" fill="#8D6E63" opacity="0.6"/>
      <circle cx="320" cy="450" r="7" fill="#8D6E63" opacity="0.6"/>
    </g>
    
    <!-- Coordinate Grid -->
    <g id="coordinateGrid" stroke="#DDDDDD" stroke-width="0.5" fill="none" opacity="0.5">
      <!-- Longitude lines -->
      <line x1="150" y1="50" x2="150" y2="550"/>
      <line x1="300" y1="50" x2="300" y2="550"/>
      <line x1="450" y1="50" x2="450" y2="550"/>
      <line x1="600" y1="50" x2="600" y2="550"/>
      
      <!-- Latitude lines -->
      <line x1="50" y1="150" x2="650" y2="150"/>
      <line x1="50" y1="300" x2="650" y2="300"/>
      <line x1="50" y1="450" x2="650" y2="450"/>
    </g>
    
    <!-- Coordinate Labels -->
    <g id="coordinateLabels" font-family="Arial, sans-serif" font-size="8" fill="#999999">
      <text x="150" y="45">28.0°E</text>
      <text x="300" y="45">28.1°E</text>
      <text x="450" y="45">28.2°E</text>
      <text x="600" y="45">28.3°E</text>
      
      <text x="45" y="155">26.0°S</text>
      <text x="45" y="305">26.2°S</text>
      <text x="45" y="455">26.4°S</text>
    </g>
  </g>
  
  <!-- Scale Bar -->
  <g id="scaleBar" transform="translate(50, 680)">
    <rect x="0" y="0" width="200" height="40" fill="#ffffff" stroke="#CCCCCC" stroke-width="1" rx="3"/>
    <line x1="20" y1="20" x2="180" y2="20" stroke="#333333" stroke-width="2"/>
    <line x1="20" y1="15" x2="20" y2="25" stroke="#333333" stroke-width="2"/>
    <line x1="100" y1="15" x2="100" y2="25" stroke="#333333" stroke-width="2"/>
    <line x1="180" y1="15" x2="180" y2="25" stroke="#333333" stroke-width="2"/>
    <text x="20" y="35" font-family="Arial, sans-serif" font-size="10" fill="#333333">0</text>
    <text x="95" y="35" font-family="Arial, sans-serif" font-size="10" fill="#333333">10 km</text>
    <text x="170" y="35" font-family="Arial, sans-serif" font-size="10" fill="#333333">20 km</text>
  </g>
  
  <!-- North Arrow -->
  <g id="northArrowGroup" transform="translate(670, 620)">
    <rect x="-20" y="-10" width="80" height="80" fill="#ffffff" stroke="#CCCCCC" stroke-width="1" rx="3" opacity="0.9"/>
    <use href="#northArrow" x="0" y="0" width="40" height="60"/>
  </g>
  
  <!-- Inset Map - South Africa Context -->
  <g id="insetMap" transform="translate(800, 120)">
    <rect x="0" y="0" width="350" height="280" fill="#ffffff" stroke="#2E86AB" stroke-width="2" rx="5"/>
    <text x="175" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2E86AB">
      Location in South Africa
    </text>
    
    <!-- Simplified South Africa outline -->
    <path d="M50 50 L300 50 L320 80 L310 120 L290 160 L280 200 L250 230 L200 240 L150 235 L100 220 L80 180 L70 140 L60 100 Z" 
          fill="#F5F5F5" stroke="#CCCCCC" stroke-width="2"/>
    
    <!-- Johannesburg location -->
    <circle cx="200" cy="140" r="8" fill="#2E86AB" stroke="#ffffff" stroke-width="2"/>
    <text x="220" y="145" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2E86AB">Johannesburg</text>
    
    <!-- Other major cities for context -->
    <circle cx="250" cy="200" r="4" fill="#999999"/>
    <text x="260" y="205" font-family="Arial, sans-serif" font-size="10" fill="#999999">Cape Town</text>
    
    <circle cx="280" cy="120" r="4" fill="#999999"/>
    <text x="290" y="125" font-family="Arial, sans-serif" font-size="10" fill="#999999">Pretoria</text>
    
    <circle cx="270" cy="160" r="4" fill="#999999"/>
    <text x="280" y="165" font-family="Arial, sans-serif" font-size="10" fill="#999999">Durban</text>
  </g>
  
  <!-- Legend -->
  <g id="legend" transform="translate(800, 420)">
    <rect x="0" y="0" width="350" height="250" fill="#ffffff" stroke="#2E86AB" stroke-width="2" rx="5"/>
    <text x="175" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2E86AB">
      Legend
    </text>
    
    <!-- Clinical Sites -->
    <use href="#clinicalSite" x="20" y="35" width="20" height="20"/>
    <text x="50" y="50" font-family="Arial, sans-serif" font-size="12" fill="#333333">Clinical Study Sites (n=4)</text>
    
    <!-- GCRO Sites -->
    <use href="#gcroSite" x="20" y="60" width="20" height="20"/>
    <text x="50" y="75" font-family="Arial, sans-serif" font-size="12" fill="#333333">GCRO Survey Areas</text>
    
    <!-- Climate Stations -->
    <use href="#climateStation" x="20" y="85" width="20" height="20"/>
    <text x="50" y="100" font-family="Arial, sans-serif" font-size="12" fill="#333333">Climate Monitoring Stations</text>
    
    <!-- Heat Islands -->
    <circle cx="30" cy="120" r="10" fill="url(#heatIslandGradient)" opacity="0.7"/>
    <text x="50" y="125" font-family="Arial, sans-serif" font-size="12" fill="#333333">Urban Heat Island Zones</text>
    
    <!-- Population Density -->
    <ellipse cx="30" cy="145" rx="12" ry="8" fill="url(#populationGradient)" opacity="0.6"/>
    <text x="50" y="150" font-family="Arial, sans-serif" font-size="12" fill="#333333">Population Density Areas</text>
    
    <!-- Roads -->
    <line x1="20" y1="170" x2="40" y2="170" stroke="#444444" stroke-width="3"/>
    <text x="50" y="175" font-family="Arial, sans-serif" font-size="12" fill="#333333">Major Highways (M1, M2, N1, N3)</text>
    
    <!-- Study Period -->
    <rect x="20" y="190" width="310" height="50" fill="#E3F2FD" stroke="#2E86AB" stroke-width="1" rx="3"/>
    <text x="175" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2E86AB">
      Study Period: 2002-2021
    </text>
    <text x="175" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2E86AB">
      9,103 clinical records + matched GCRO data
    </text>
  </g>
  
  <!-- Data Sources and Attribution -->
  <g id="attribution" transform="translate(50, 750)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="10" fill="#666666">
      Data Sources: Clinical sites (Heat Centre, Wits), GCRO Quality of Life Survey, ERA5 Climate Reanalysis
    </text>
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="10" fill="#666666">
      Cartographic data: OpenStreetMap contributors, South African Municipal Demarcation Board
    </text>
    <text x="0" y="45" font-family="Arial, sans-serif" font-size="10" fill="#666666">
      Projection: WGS84 Geographic Coordinate System | Map created for ENBEL Conference 2024
    </text>
  </g>
  
  <!-- Study Context Box -->
  <g id="studyContext" transform="translate(800, 680)">
    <rect x="0" y="0" width="350" height="90" fill="#F8F9FA" stroke="#2E86AB" stroke-width="1" rx="3"/>
    <text x="175" y="15" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2E86AB">
      Multi-Source Data Integration
    </text>
    <text x="10" y="35" font-family="Arial, sans-serif" font-size="10" fill="#333333">
      • Clinical biomarkers from 4 major healthcare facilities
    </text>
    <text x="10" y="50" font-family="Arial, sans-serif" font-size="10" fill="#333333">
      • Socioeconomic data from GCRO Quality of Life surveys
    </text>
    <text x="10" y="65" font-family="Arial, sans-serif" font-size="10" fill="#333333">
      • High-resolution climate data (ERA5, weather stations)
    </text>
    <text x="10" y="80" font-family="Arial, sans-serif" font-size="10" fill="#333333">
      • Temporal coverage: 20 years across Greater Johannesburg
    </text>
  </g>
  
</svg>